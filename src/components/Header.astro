---
import { personal } from "../data/personal";

const navLinks = [
    { href: "#projects", label: "Projects" },
    { href: "#experience", label: "Experience" },
    { href: "#skills", label: "Skills" },
    { href: "#contact", label: "Contact" },
];
---

<header
    class="fixed top-0 left-0 right-0 z-50 bg-[#0a0a0a]/80 backdrop-blur-md border-b border-gray-800/50"
>
    <nav class="container-main">
        <div class="flex items-center justify-between h-16 md:h-20">
            <!-- Logo -->
            <a href="/" class="flex items-center gap-2 group">
                <span
                    class="text-xl md:text-2xl font-bold text-white group-hover:text-purple-400 transition-colors"
                >
                    {personal.name.split(" ")[0]}<span class="text-purple-500"
                        >.</span
                    >
                </span>
            </a>

            <!-- Desktop Navigation -->
            <div class="hidden md:flex items-center gap-1">
                {
                    navLinks.map((link) => (
                        <a
                            href={link.href}
                            class="px-4 py-2 text-sm font-medium text-gray-400 hover:text-white hover:bg-gray-800/50 rounded-lg transition-all duration-200"
                        >
                            {link.label}
                        </a>
                    ))
                }
                <a
                    href={personal.resumeUrl}
                    target="_blank"
                    rel="noopener noreferrer"
                    class="ml-2 px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-purple-600 to-blue-600 rounded-lg hover:from-purple-700 hover:to-blue-700 transition-all duration-200"
                >
                    Resume
                </a>
            </div>

            <!-- Mobile Menu Button -->
            <button
                id="mobile-menu-btn"
                class="md:hidden p-2 text-gray-400 hover:text-white hover:bg-gray-800 rounded-lg transition-colors"
                aria-label="Toggle menu"
            >
                <svg
                    class="w-6 h-6 menu-icon"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                >
                    <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M4 6h16M4 12h16M4 18h16"></path>
                </svg>
                <svg
                    class="w-6 h-6 close-icon hidden"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                >
                    <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M6 18L18 6M6 6l12 12"></path>
                </svg>
            </button>
        </div>
    </nav>

    <!-- Mobile Menu -->
    <div
        id="mobile-menu"
        class="md:hidden hidden bg-[#0a0a0a]/95 backdrop-blur-md border-t border-gray-800"
    >
        <div class="container-main py-4 space-y-2">
            {
                navLinks.map((link) => (
                    <a
                        href={link.href}
                        class="mobile-nav-link block px-4 py-3 text-base font-medium text-gray-300 hover:text-white hover:bg-gray-800/50 rounded-lg transition-all duration-200"
                    >
                        {link.label}
                    </a>
                ))
            }
            <a
                href={personal.resumeUrl}
                target="_blank"
                rel="noopener noreferrer"
                class="block px-4 py-3 text-base font-medium text-white bg-gradient-to-r from-purple-600 to-blue-600 rounded-lg text-center mt-4"
            >
                Download Resume
            </a>
        </div>
    </div>
</header>

<script>
    const menuBtn = document.getElementById("mobile-menu-btn");
    const mobileMenu = document.getElementById("mobile-menu");
    const menuIcon = menuBtn?.querySelector(".menu-icon");
    const closeIcon = menuBtn?.querySelector(".close-icon");
    const mobileNavLinks = document.querySelectorAll(".mobile-nav-link");

    menuBtn?.addEventListener("click", () => {
        mobileMenu?.classList.toggle("hidden");
        menuIcon?.classList.toggle("hidden");
        closeIcon?.classList.toggle("hidden");
    });

    // Close menu when clicking a link
    mobileNavLinks.forEach((link) => {
        link.addEventListener("click", () => {
            mobileMenu?.classList.add("hidden");
            menuIcon?.classList.remove("hidden");
            closeIcon?.classList.add("hidden");
        });
    });

    // Close menu on scroll
    window.addEventListener("scroll", () => {
        if (!mobileMenu?.classList.contains("hidden")) {
            mobileMenu?.classList.add("hidden");
            menuIcon?.classList.remove("hidden");
            closeIcon?.classList.add("hidden");
        }
    });
</script>
